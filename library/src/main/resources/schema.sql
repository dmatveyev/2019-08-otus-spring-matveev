DROP TABLE IF EXISTS PERSON;
CREATE TABLE PERSON(ID UUID PRIMARY KEY,
 NAME VARCHAR(255),
 PASSWORD VARCHAR(255));

DROP TABLE IF EXISTS AUTHOR;
CREATE TABLE AUTHOR(ID UUID PRIMARY KEY, NAME VARCHAR(255));

CREATE TABLE GENRE(ID UUID PRIMARY KEY, NAME VARCHAR(255), CODE VARCHAR (100));

DROP TABLE IF EXISTS BOOK;
CREATE TABLE BOOK(
ID UUID PRIMARY KEY,
NAME VARCHAR(255),
GENRE_ID UUID,
ISBN VARCHAR(255),
AUTHOR_ID UUID );

 ALTER TABLE BOOK
    ADD FOREIGN KEY (AUTHOR_ID)
    REFERENCES AUTHOR;
 ALTER TABLE BOOK
    ADD FOREIGN KEY (GENRE_ID)
    REFERENCES GENRE;

DROP TABLE IF EXISTS BOOK_COMMENT;
CREATE TABLE BOOK_COMMENT (
ID UUID PRIMARY KEY,
PERSON_ID UUID,
BOOK_ID UUID,
COMMENT CLOB
);

ALTER TABLE BOOK_COMMENT ADD FOREIGN KEY(PERSON_ID) REFERENCES PERSON;
ALTER TABLE BOOK_COMMENT ADD FOREIGN KEY(BOOK_ID) REFERENCES BOOK;



